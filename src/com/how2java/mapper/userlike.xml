<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="com.how2java.mapper.userlikeMapper">
	    
<select id="likewhat" parameterType="int" resultType="userlike">
select schoolid,title,lastupdate,updatestate,likecount,talkdetailid,talkid,userid,userlike_.id from 
userlike_,talk_ where userlike_.talkid=talk_.id and userlike_.userid=#{id}
</select>
<insert id="shouchang" parameterType="userlike">
INSERT userlike_ (updatestate,likecount,talkdetailid,talkid,userid)
VALUES (#{updatestate},#{likecount},#{talkdetailid},#{talkid},#{userid})
</insert>
<update id="updatetime" > 
update userlike_ set lastupdate =#{0} where id=#{1}
</update>

<select id="allcount" resultType="int">
select max(id) from userlike_
</select>
	</mapper>